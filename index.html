<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
    @font-face{
font-family:'spirit';
src:url('https://dl.dropbox.com/scl/fi/bqitfm4rr6tfgt3ea2jrq/Spirit.ttf?rlkey=r8hrj9c01d3cmv2iqt3vxm9tp&dl=0');
}
</style>
     <link href="css/hover.css" rel="stylesheet" media="all">
     <link rel="stylesheet" href="style.css">

    <title>Cristina's Graduation Project research blog!</title>
</head>

<div id="music">
  <img
    id="musicBtn"
    src="https://bettysgraphics.neocities.org/images/objects/music%20note.gif"
    alt="Music button"
  >
</div>
<!--Wow i wonder who just recently went to a Jamiroquai concert...-->
<audio id="song1" src="music/Music of the Mind.mp3" preload="auto"></audio>
<audio id="song2" src="music/Canned Heat - Jamiroquai.mp3" preload="auto"></audio>
<audio id="song3" src="music/Seven Days in Sunny June - Jamiroquai.mp3" preload="auto" loop></audio>

<script>
  const song1 = document.getElementById("song1");
  const song2 = document.getElementById("song2");
  const song3 = document.getElementById("song3");
  const btn = document.getElementById("musicBtn");

  btn.style.cursor = "pointer";

  let currentSong = null;
  let started = false;

  btn.addEventListener("click", () => {
  
    if (!started) {
      song1.play();
      currentSong = song1;
      started = true;
      return;
    }

 
    if (currentSong && !currentSong.paused) {
      currentSong.pause();
    } else if (currentSong) {
      currentSong.play();
    }
  });


  song1.addEventListener("ended", () => {
    currentSong = song2;
    song2.play();
  });

  song2.addEventListener("ended", () => {
    currentSong = song3;
    song3.play();
  });

  song3.addEventListener("ended", () => {
    currentSong = song2;
    song1.play();
  });
</script>


 <div class="center-box">

   <nav class="top-nav">
  <a href="#" class="nav-item hvr-skew" data-page="home">
    <img src="images/hme.gif.gif" alt="Home">
    Home
  </a>

  <a href="#" class="nav-item hvr-skew" data-page="project">
    <img src="images/type.webp" alt="Project research">
    Project research
  </a>

  <a href="#" class="nav-item hvr-skew" data-page="gameplay">
    <img src="images/book.gif" alt="Gameplay research">
    Gameplay research
  </a>
  <a href="#" class="nav-item hvr-skew" data-page="scrapped">
    <img src="images/scrapped.gif" alt="Scrapped ideas">
    Scrapped ideas
  </a>

  <a href="#" class="nav-item hvr-skew" data-page="story">
    <img src="images/arcade.gif" alt="StoryBoarding and planning">
    StoryBoarding and planning
  </a>
</nav>

    <div class="content">
        <div class="title">
      <h2 id="h2">Cristina Research Blog</h2>
      </div>
     <div class="main" id="main-content">
      </div>
    </div>
  </div>

<script>
const content = {
  home: `
    <p>Welcome to my research blog!<br><br><img src="https://i.postimg.cc/mrY1W0fJ/output-onlinegiftools.gif"><br>In this blog you will find things i wasnt able to include in the thesis, this includes papers and articles i read in the beginning of development that didnt end up being relevant enough to be included. Or games i played and researched that helped with prototype and idea development but werent specific enough.<img src"https://i.postimg.cc/DzR6BZ6N/IMG-0020.png"><br><br>I also speak about some more specific and personal inspirations behind this project so you are better able to understand how my expierences have shaped this project!</p>
  `,
  project: `
    <h3>Project Research</h3>
    <p>This section documents my research and readings.</p>
    <h3>Paper notes</h3>
    <div id="paper-notes">Loading notes...</div>
  `,
  gameplay: `
    <h3>Gameplay Research</h3>
    <p>Games I studied, mechanics, and notes.</p>
    <div id="gameplay-notes">Loading gameplay research...</div>
  `,
  scrapped: `
    <h3>Scrapped Ideas</h3>
    <p>Things that didnâ€™t make the cut.</p>
    <div id="scrapped-notes">Loading scrapped content...</div>
  `,
  story: `
    <h3>Storyboarding & Planning</h3>
    <p>Narrative ideas,Project inspiration and planning sketches.</p>
    <div id="story-notes">Loading storyboards...</div>
  `
};

const main = document.getElementById("main-content");
// Default page
main.innerHTML = content.home;

const navItems = document.querySelectorAll(".nav-item");

// JSON paths
const jsonURL = "notes.json";
const gameplayURL = "gameplay.json";
const storyURL = "story.json";
const miscURL = "misc.json";
const scrappedURL = "scrapped.json";

navItems.forEach(item => {
  item.addEventListener("click", async (e) => {
    e.preventDefault();
    const page = item.dataset.page;
    main.innerHTML = content[page];

    if (page === "project") {
      await loadPaperNotes();
    }

    if (page === "gameplay") {
      await loadGameplayNotes();
    }

    if (page === "story") {
      await loadMediaNotes("story-notes", storyURL);
    }

    if (page === "misc") {
      await loadMediaNotes("misc-notes", miscURL);
    }

    if (page === "scrapped") {
      await loadMediaNotes("scrapped-notes", scrappedURL);
    }
  });
});



// =======================
// PROJECT NOTES
// =======================
async function loadPaperNotes() {
  const container = document.getElementById("paper-notes");
  if (!container) return;

  try {
    const res = await fetch(jsonURL);
    const data = await res.json();

    let html = `
      <table>
        <thead>
          <tr>
            <th class="title">Title</th>
            <th class="notes">Notes</th>
          </tr>
        </thead>
        <tbody>
    `;

    data.forEach(item => {
      html += `
        <tr>
          <td class="title">
            <a href="${item.link}" target="_blank" rel="noopener">
              ${item.title}
            </a>
          </td>
          <td class="notes">${item.notes}</td>
        </tr>
      `;
    });

    html += "</tbody></table>";
    container.innerHTML = html;

  } catch (err) {
    console.error(err);
    container.innerHTML = "<p>Failed to load paper notes.</p>";
  }
}


// =======================
// GAMEPLAY NOTES
// =======================
async function loadGameplayNotes() {
  const container = document.getElementById("gameplay-notes");
  if (!container) return;

  try {
    const res = await fetch(gameplayURL);
    const data = await res.json();

    let html = `<div class="gameplay-list">`;

    data.forEach(game => {
      html += `
        <div class="gameplay-item">
          <h4 class="gameplay-title">
            <a href="${game.link}" target="_blank" rel="noopener">
              ${game.title}
            </a>
          </h4>

          <div class="gameplay-images">
            ${game.images.map(img => `
              <img src="${img}" alt="${game.title}">
            `).join("")}
          </div>

          <p class="gameplay-notes">${game.notes}</p>
        </div>
      `;
    });

    html += `</div>`;
    container.innerHTML = html;

  } catch (err) {
    console.error(err);
    container.innerHTML = "<p>Failed to load gameplay research.</p>";
  }
}


// =======================
// STORYBOARDING and misc
// =======================
async function loadMediaNotes(containerId, jsonPath) {
  const container = document.getElementById(containerId);
  if (!container) return;

  try {
    const res = await fetch(jsonPath);
    const data = await res.json();

    let html = `<div class="story-list">`;

    data.forEach(entry => {
      const files = entry.media || entry.images || [];

      const mediaHTML = files.map(file => {
        if (file.endsWith(".mp4")) {
          return `
            <video controls playsinline muted preload="metadata">
              <source src="${file}" type="video/mp4">
            </video>
          `;
        }
        return `<img src="${file}" alt="Media item">`;
      }).join("");

      html += `
        <div class="story-item">
          <div class="story-images">
            ${mediaHTML}
          </div>
          <p class="story-notes">${entry.notes || ""}</p>
        </div>
      `;
    });

    html += `</div>`;
    container.innerHTML = html;

  } catch (err) {
    console.error("Media load error:", err);
    container.innerHTML = "<p>Failed to load content.</p>";
  }
}

</script>
</body>
</html>